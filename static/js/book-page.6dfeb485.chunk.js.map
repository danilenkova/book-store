{"version":3,"file":"static/js/book-page.6dfeb485.chunk.js","mappings":"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","sources":["components/specific-book/specific-book.jsx","pages/BookPage.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useCart } from \"../../context/use-cart\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nimport { useBooks } from \"../../context/use-books\";\r\n\r\nimport imageNotFound from \"../../images/imageNotFound.png\";\r\n\r\nimport \"./specific-book.css\";\r\n\r\nexport const SpecificBook = () => {\r\n  const books = useBooks();\r\n  let { bookID } = useParams();\r\n  const { cart, setCart } = useCart();\r\n  const book = books?.find((item) => item.id === +bookID);\r\n\r\n  const [quantity, setQuantity] = useState(\r\n    cart?.books?.filter((item) => item.id === book.id)[0]?.quantity || 1\r\n  );\r\n  const [total, setTotal] = useState();\r\n  const inCart = cart?.books?.some((item) => item.id === book.id) || false;\r\n  useEffect(() => {\r\n    setTotal(((quantity || 1) * book.price).toFixed(2));\r\n  }, [quantity, book.price]);\r\n\r\n  const descrementCount = () => {\r\n    setQuantity((prevQuantity) => prevQuantity - 1);\r\n  };\r\n\r\n  const incrementCount = () => {\r\n    setQuantity((prevQuantity) => prevQuantity + 1);\r\n  };\r\n\r\n  const handleCountChange = (e) => {\r\n    const inputCount = checkCount(e.target.value);\r\n    setQuantity(inputCount);\r\n  };\r\n\r\n  const checkCount = (value) => {\r\n    if (value === \"\") return \"\";\r\n    else if (isNaN(value) || value < 1) return 1;\r\n    else if (value > 42) return 42;\r\n    else return Number(value);\r\n  };\r\n\r\n  const handleAddToCart = () => {\r\n    const orderToCart = { books: [] };\r\n    orderToCart.books = cart?.books\r\n      ? cart.books.filter((item) => item.id !== book.id)\r\n      : [];\r\n    orderToCart.books.push(\r\n      ...[\r\n        {\r\n          id: book?.id,\r\n          price: book?.price,\r\n          title: book?.title,\r\n          quantity: quantity,\r\n        },\r\n      ]\r\n    );\r\n    setCart(orderToCart);\r\n  };\r\n\r\n  return (\r\n    <section>\r\n      <div className=\"book-info\">\r\n        <div className=\"bookWrap\">\r\n          <img\r\n            src={book.image || imageNotFound}\r\n            className=\"book-image\"\r\n            alt=\"not found\"\r\n            width=\"200px\"\r\n            height=\"200px\"\r\n          />\r\n        </div>\r\n        <div className=\"wrapper\">\r\n          <div className=\"book-info-box\">\r\n            <p>\r\n              <strong>{book.title}</strong>\r\n            </p>\r\n            <p>Author(s): {book.author}</p>\r\n            <p>Book level: {book.level}</p>\r\n\r\n            <p>Book tags: {book.tags.join(\", \")}</p>\r\n          </div>\r\n          <div className=\"order-box\">\r\n            <div className=\"price-box\">\r\n              <p>Price, $</p>\r\n              <p className=\"price\">{book.price}</p>\r\n            </div>\r\n            <div className=\"count-form\">\r\n              <div>Count</div>\r\n              <div className=\"countInput\">\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"descrementBtn\"\r\n                  onClick={descrementCount}\r\n                  disabled={quantity === 1}\r\n                >\r\n                  -\r\n                </button>\r\n                <input\r\n                  id=\"book-number\"\r\n                  type=\"number\"\r\n                  className=\"count\"\r\n                  value={quantity}\r\n                  onChange={handleCountChange}\r\n                  min=\"1\"\r\n                  max=\"42\"\r\n                />\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"incrementBtn\"\r\n                  onClick={incrementCount}\r\n                  disabled={quantity === book.amount}\r\n                >\r\n                  +\r\n                </button>\r\n              </div>\r\n            </div>\r\n            <div className=\"total-box\">\r\n              <p>Total price </p>\r\n              <p className=\"total\">{total}</p>\r\n            </div>\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn-order\"\r\n              onClick={handleAddToCart}\r\n            >\r\n              {inCart ? \"In cart\" : \"Add to cart\"}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"description\">\r\n        <p>{book.description}</p>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n","import { SpecificBook } from \"../components/specific-book\";\r\n\r\nconst BooksPage = () => {\r\n  return <SpecificBook />;\r\n};\r\n\r\nexport default BooksPage;\r\n"],"names":["SpecificBook","_cart$books","_cart$books$filter$","_cart$books2","books","useBooks","bookID","useParams","cart","setCart","useCart","book","find","item","id","quantity","setQuantity","useState","filter","total","setTotal","inCart","some","useEffect","price","toFixed","checkCount","value","isNaN","Number","_jsxs","children","className","_jsx","src","image","imageNotFound","alt","width","height","title","author","level","tags","join","type","onClick","descrementCount","prevQuantity","disabled","onChange","e","inputCount","target","min","max","incrementCount","amount","handleAddToCart","orderToCart","push","description","BooksPage"],"sourceRoot":""}